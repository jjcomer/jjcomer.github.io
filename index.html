
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The Blog of Josh Comer</title>
  <meta name="author" content="Josh Comer">

  
  <meta name="description" content="One of my favourite things about Clojure, is constantly discovering
new, and usually shorter ways of re-writing code. An example I
discovered today &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jjcomer.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="The Blog of Josh Comer" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-372334-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">The Blog of Josh Comer</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jjcomer.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/about">About Me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/07/ordering-columns/">Ordering Columns</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-07T21:39:00-03:00" pubdate data-updated="true">Aug 7<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of my favourite things about Clojure, is constantly discovering
new, and usually shorter ways of re-writing code. An example I
discovered today has to do with maintaining a particular ordering in
a map. When creating html lists using hiccup one needs to make sure
the columns of the table all line up. This can be difficult when
using a map since the ordering of a map is not defined.</p>

<p>Fear no longer, today I discovered <strong>sorted-map-by</strong>. This creates a
map which maintains an order as defined by a comparator. So here is the easy way I came up with to keep a map in a
particular ordering:</p>

<div><script src='https://gist.github.com/3290950.js'></script>
<noscript><pre><code></code></pre></noscript></div>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/02/clojure-talks/">Clojure Talks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-02T05:53:00-03:00" pubdate data-updated="true">Aug 2<span>nd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It has been awhile since my last post, life has been quite busy (as
 always). I thought that I should share some of the great Clojure
 themed talks that I have been consuming in my down time.</p>

<ul>
<li><p><a href="http://www.infoq.com/presentations/clojure-runa-dynamic-pricing-through-DSLs">Dynamic Pricing through DSLs</a>
This talk by Amit Rathore takes an great approach to DSLs. His
company Runa uses a DSL to alleviate the pains of enterprise
customisation&rsquo;s to their product.</p></li>
<li><p><a href="http://www.infoq.com/presentations/Why-Prismatic-Goes-Faster-With-Clojure">Why Prismatic Goes Faster With Clojure</a>
This talk shows that Clojure can be <em>FAST</em>. I wish these libraries
were open-source so that I could get a look at their inner
workings.</p></li>
<li><p><a href="http://vimeo.com/45561411">Reducers &ndash; Rich Hickey</a>
I saved the best for last. This is the best talk I have watched in
awhile. Rich does a great job of walking through reducers and
explaining why they are important. I keep meaning to download the
Clojure 1.5 beta and try these out for myself. In the Clojure
programming that I have done it seems that the majority of maps and
filters are not order dependent and therefore could greatly benefit
from the use of reducers.</p></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/04/12/episode-2-drops/">Episode 2 Drops</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-04-12T16:12:00-03:00" pubdate data-updated="true">Apr 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Finally, the moment over one month in the making, The Techsters
Episode #2 is here!</p>

<p>Have a listen <a href="http://thetechsters.tumblr.com/">here</a>.</p>

<p>Enjoy.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/24/clojure-game-engine/">Clojure Game Engine</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-24T13:17:00-03:00" pubdate data-updated="true">Mar 24<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently attended an undergraduate thesis presentation where one of
the students created a javascript game engine from scratch. This got
me to thinking, what would a Clojure game engine look like. I have
played around with other Java gaming engines, such as
<a href="http://slick.cokeandcode.com/">Slick</a>. Slick is a really easy engine
to work with and lets you immediately focus on developing the game, not
contorting the engine to work for your game. Since Slick is so great,
why not just write a Clojure wrapper for it? The problem rests in
Slick&rsquo;s heavy dependence on the OOP paradigm. A wrapper would end up
causing the programmer to &ldquo;fight&rdquo; Clojure at every turn as we sneak
objects and, even worse, mutability into the engine. My goal is to have a
game engine which embraces the ideals of Clojure.</p>

<p>The design which I have been building in my head is an entity-oriented
engine (which I wrote about in a previous
<a href="/blog/2011/11/06/entity-oriented-programming/">post</a>). A world
reference will be a bag for all the entities in the game. Entities
would only contain their state, and their categorizations. For example
you could have a player entity, and also have an entity for each
projectile currently alive in the game. An interesting idea would be
to make each processor of entities a different thread. This would
impose the problem of not being able to deterministically order their
execution, but the idea of creating a game based on independent
modules seems intriguing. My goal is to create a highly concurrent
gaming engine. A cool resource to check out is Rich Hickey&rsquo;s famous
<a href="https://gist.github.com/1494094">ant demo</a> which was used to demo
Clojure&rsquo;s concurrency in the early days of the language. It is pretty mind blowing how much simulation
is packed into so little code (the whole thing is 300 lines, with
comments and license).</p>

<p>The rendering and world updating will be done by two (maybe more)
agents. Clojure&rsquo;s wonderful STM will trivially (maybe easy is the
better terminology :)) allow these tasks to be
independent. I haven&rsquo;t yet chosen what the renderer is going to be
yet, but this will be a 2D engine, so for the minimal amount of effort
it will probably end up being the
<a href="http://www.lwjgl.org/">Light Weight Java Game Library</a>, which Slick
uses underneath. The unfortunate part of this is that LWJGL requires
the use of native libraries. An alternative option would be to also
include Swing support, thus making the engine support cross platforms easily. I will
have to research to see if the Canvas in Swing is performant enough.</p>

<p>This is all just thought development now, but I have the whole summer
ahead of me. Maybe this will make a good project :)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/03/03/the-techsters/">The Techsters</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-03-03T17:51:00-04:00" pubdate data-updated="true">Mar 3<span>rd</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So a couple friend and I have decided to start a new podcast called
&ldquo;The Techsters&rdquo;. The main focus of the podcast is to be an entertaining
discussion on all things technology.</p>

<p>You can check out our first episode here
<a href="http://thetechsters.tumblr.com/">http://thetechsters.tumblr.com/</a></p>

<p>Let us know what you think.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/01/29/median-finding-and-incanter/">Median Finding and Incanter</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-29T07:33:00-04:00" pubdate data-updated="true">Jan 29<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><em>Updated: made a mistake in the random algorithm… left out the random part :) all fixed now and the chart has been updated</em></p>

<p>Last week we were going over some median finding algorithms in class. To be honest I had never thought of this problem before. In class (before the algorithms were revealed to us) I jumped to the naive approach of sorting the list then grabbing the middle. This is <strong>obviously</strong> going to have the complexity of sorting, with best case <em>O(nlogn)</em>.</p>

<p>We were presented with two algorithms, one random (selection by partitioning) and the other deterministic (median of medians). Both end up averaging a complexity of <em>n</em>, but the random algorithm has a worst case of O(n<sup>2</sup>). The funny thing is that the random algorithm massively outperforms the deterministic version. This is always an iterating situation, when the theoretically better solution ends up performing (when implemented) far worse than the theoretically worse solution.</p>

<p>Lets see how much worse the deterministic algorithm performs. I created an implementation of both algorithms:</p>

<div><script src='https://gist.github.com/1698459.js'></script>
<noscript><pre><code></code></pre></noscript></div>


<p>Conveniently both algorithms have the same core, and the only difference between them is how they determine their pivot value. As the name suggests in the random algorithm, the pivot is chosen at random. In the deterministic version, the pivot is chosen to be the median of medians. Finding the median of medians is interesting as the recursions are intertwined, the median finding algorithm is called by the median finding function.</p>

<p>There are also some laziness optimizations sneaking in here as well. In the core, only the &ldquo;less than&rdquo; partition is fully realized. The &ldquo;greater than&rdquo; partition is only calculated when required, which is only when the median exists within.</p>

<p>Alright, so now I got to take my first attempt at using <a href="http://incanter.org/">Incanter</a>, the R-type library for Clojure. Incanter was really easy to use and I found the documentation to be very verbose (in a good way) and well written.</p>

<p>This is the analysis code I whipped up:</p>

<div><script src='https://gist.github.com/1698492.js'></script>
<noscript><pre><code></code></pre></noscript></div>


<p>Which I used to produce the following chart:</p>

<p><img src="/images/MedianGraph.png"></p>

<p>Due to some strange &ldquo;features&rdquo; in Incanter, you have to jump through some hoops to get the groups to label correctly, so I left the legend off the chart. The blue points are the deterministic algorithm&rsquo;s results and the red points are the random algorithm&rsquo;s results. As you can clearly see from the graph, the random algorithm outperformed the deterministic one by at least one metric bunch.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/11/06/entity-oriented-programming/">Entity Oriented Programming</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-11-06T12:02:00-04:00" pubdate data-updated="true">Nov 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A few friends and I have undertaken a game project, and I get to be in charge of the technical side of things. I immediately thought of using Clojure (since it is only the best language ever), but changed my mind as my main criteria was a easy to use game engine (I&rsquo;m lazy). I ended up choosing to use the <a href="http://slick.cokeandcode.com/">Slick</a> engine which is java-based. To supplement this Slick engine I have decided to use an entity based approach to programming the game. <a href="http://gamadu.com/artemis/">Artemis</a> is an entity framework which was originally designed for use with Slick, but since it has no dependencies, could be used with anything.</p>

<p>The Artemis framework is based on a series of blog posts from <a href="http://t-machine.org/index.php/2007/09/03/entity-systems-are-the-future-of-mmog-development-part-1/">T=Machine</a>. The <strong>TL;DR</strong> of these blog posts is that an entity system in a gaming environment is very extensible and can be parallelised (the articles revolve around PS3 development, which needs done concurrently to take advantage of the hardware). Whilst I don&rsquo;t have any immediate needs to delve into concurrent game development, this approach has a real functional smell to it (reminiscent to that of fresh baked bread),  so it must be a good thing.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2011/11/06/entity-oriented-programming/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/09/11/trollscript/">Trollscript</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-11T16:32:00-03:00" pubdate data-updated="true">Sep 11<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Well, I haven&rsquo;t been doing much in the way of coding over the last couple weeks, but today that changed. I came across <a href="https://github.com/tombell/trollscript">Tom Bell&rsquo;s ruby implementation</a> of a trollscript interpreter, and figured that the clojure community needs an interpreter too. A couple hours later and I had whipped up my first version of a <a href="https://github.com/jjcomer/trollscript">trollscript interpreter</a>.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2011/09/11/trollscript/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/08/19/honinbo/">Honinbo</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-19T23:00:00-03:00" pubdate data-updated="true">Aug 19<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Now that TodoClj is done (unless I come up with some new features), it is time for a new project. A while ago a friend and I started messing around with the game of Go.
It quickly became apparent that there are no good Go clients out there. The ones that do exist are extremely old, and either do not run on modern hardware, or are almost completely unusable. So the first step in creating a bearable Go client is to make an easy to use wrapper for the gnuGo client. By interfacing with gnuGo, one gets all the rule enforcement and AI for free.</p>

<p>I have decided to name my wrapper after one of the first (<em>founded in 1612</em>) Go houses in Japan, <a href="http://en.wikipedia.org/wiki/Honinbo">Honinbo</a>. This should be a good chance for me to practice some meta-programming as the interface with gnuGo will take place using the Go Text Protocol (GTP).</p>

<p>As always, the source is checked into GitHub <a href="https://github.com/jjcomer/honinbo">here</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/08/09/todoclj-1-0-0-is-done/">TodoClj 1.0.0 Is Done</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-09T21:14:00-03:00" pubdate data-updated="true">Aug 9<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I have finished the first version of <a href="https://github.com/jjcomer/TodoClj">TodoClj</a>. Please check it out. Note that I have put almost no error checking into the parser, therefore things will crash if not perfect. Windows users should compile from source (to get version 1.0.1) since the ANSI codes used to colour the output do not render and the new version prevents colour from being rendered when run on Windows. If you have lein installed compiling is as easy as:</p>

<pre><code>lein uberjar
</code></pre>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2011/08/09/todoclj-1-0-0-is-done/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/08/07/ordering-columns/">Ordering Columns</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/08/02/clojure-talks/">Clojure Talks</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/12/episode-2-drops/">Episode 2 Drops</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/24/clojure-game-engine/">Clojure Game Engine</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/03/the-techsters/">The Techsters</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/jjcomer">@jjcomer</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'jjcomer',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/111859646217609840955?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Josh Comer -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'joshcomer';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
